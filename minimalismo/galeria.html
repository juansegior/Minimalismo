<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Galería</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* ===== Ajustes locales para la galería (no invaden tu CSS) ===== */
    .g-head{ padding:28px 0 10px; }
    .g-head h1{ margin:0 0 10px; line-height:1.05; }
    .g-filters{ display:flex; gap:10px; flex-wrap:wrap; }
    .chip{
      border:1px solid var(--line); border-radius:999px; padding:6px 12px;
      background:#fff; cursor:pointer; font-size:.95rem;
    }
    .chip[aria-pressed="true"]{ background:#111; color:#fff; border-color:#111; }

    .g-grid{
      --cols: 2;
      display:grid; grid-template-columns:repeat(var(--cols),1fr);
      gap:22px; padding:24px 0 56px;
    }
    @media (min-width:900px){ .g-grid{ --cols: 4; } }

    .tile{ display:flex; flex-direction:column; gap:8px; }
    .thumb--square{ aspect-ratio:1/1; }
    .caption{ display:flex; justify-content:space-between; gap:12px; }
    .caption h3{ margin:0; font-size:1.05rem; }
    .caption .meta{ color:var(--muted); font-size:.9rem; }

    /* Lightbox */
    .lightbox{
      position:fixed; inset:0; background:rgba(0,0,0,.8);
      display:none; place-items:center; z-index:60; padding:24px;
    }
    .lightbox[open]{ display:grid; }
    .lightbox img{ max-width:min(92vw,1200px); max-height:85vh; object-fit:contain; border-radius:12px; }
    .lightbox .close{
      position:absolute; top:16px; right:16px; background:#fff; border:1px solid var(--line);
      border-radius:999px; padding:6px 12px; cursor:pointer;
    }
  </style>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">Galería</div>
      <nav class="primary-nav">
        <a href="index.html" class="nav-link">Home</a>
        <a href="principios.html" class="nav-link">Principios</a>
        <a href="historia.html" class="nav-link">Historia</a>
        <a href="autores.html" class="nav-link">Autores</a>
      </nav>
      <div class="profile" aria-hidden="true"></div>
    </div>
  </header>

  <main class="container">

    <!-- ===== Cabecera + Filtros ===== -->
    <header class="g-head" aria-labelledby="g-title">
      <h1 id="g-title">Obras</h1>
      <div class="g-filters" role="toolbar" aria-label="Filtros">
        <button class="chip" data-filter="all" aria-pressed="true">Todas</button>
        <button class="chip" data-filter="escultura">Escultura</button>
        <button class="chip" data-filter="luz">Luz</button>
        <button class="chip" data-filter="muro">Muro</button>
        <button class="chip" data-filter="modular">Modular</button>
      </div>
    </header>

    <!-- ===== Grid de obras ===== -->
    <section class="g-grid" id="grid" aria-live="polite">

      <!-- Tile 1 (square) -->
      <article class="tile" data-tags="modular escultura">
        <figure class="thumb thumb--square">
          <img src="img/galeria1.avif" alt="Estructura modular blanca" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Módulo blanco</h3>
          <span class="meta">Modular / 1966</span>
        </div>
      </article>

      <!-- Tile 2 -->
      <article class="tile" data-tags="luz escultura">
        <figure class="thumb">
          <img src="img/galeria2.jpeg" alt="Tubos de luz en esquina" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Luz en esquina</h3>
          <span class="meta">Luz / 1969</span>
        </div>
      </article>

      <!-- Tile 3 (square) -->
      <article class="tile" data-tags="muro modular">
        <figure class="thumb thumb--square">
          <img src="img/galeria3.webp" alt="Dibujo mural con tramas" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Trama mural</h3>
          <span class="meta">Muro / 1971</span>
        </div>
      </article>

      <!-- Tile 4 -->
      <article class="tile" data-tags="escultura">
        <figure class="thumb">
          <img src="img/galeria4.jpg" alt="Volumen monocromo" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Volumen negro</h3>
          <span class="meta">Escultura / 1974</span>
        </div>
      </article>

      <!-- Tile 5 (square) -->
      <article class="tile" data-tags="modular">
        <figure class="thumb thumb--square">
          <img src="img/galeria5.jpg" alt="Serie de cubos repetidos" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Serie repetida</h3>
          <span class="meta">Modular / 1975</span>
        </div>
      </article>

      <!-- Tile 6 -->
      <article class="tile" data-tags="luz">
        <figure class="thumb">
          <img src="img/galeria6.webp" alt="Instalación de luces paralelas" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Paralelas de luz</h3>
          <span class="meta">Luz / 1977</span>
        </div>
      </article>

      <!-- Tile 7 (square) -->
      <article class="tile" data-tags="muro">
        <figure class="thumb thumb--square">
          <img src="img/galeria7.jpeg" alt="Wall drawing con líneas" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Wall drawing</h3>
          <span class="meta">Muro / 1978</span>
        </div>
      </article>

      <!-- Tile 8 -->
      <article class="tile" data-tags="escultura modular">
        <figure class="thumb">
          <img src="img/galeria8.webp" alt="Estructura prismática" loading="lazy">
        </figure>
        <div class="caption">
          <h3>Prisma abierto</h3>
          <span class="meta">Escultura / 1980</span>
        </div>
      </article>

    </section>

  </main>

  <!-- ===== Lightbox ===== -->
  <dialog class="lightbox" id="lightbox" aria-label="Vista ampliada">
    <button class="close" id="lb-close" aria-label="Cerrar">Cerrar ✕</button>
    <img id="lb-img" alt="">
  </dialog>

  <footer class="site-footer container">
    <p class="muted">© 2025 Minimalismo — Proyecto académico</p>
  </footer>

  <!-- ===== JS: filtro + lightbox ===== -->
  <script>
    // Filtros
    const chips = document.querySelectorAll('.chip');
    const tiles = document.querySelectorAll('.tile');

    chips.forEach(chip => {
      chip.addEventListener('click', () => {
        chips.forEach(c => c.setAttribute('aria-pressed','false'));
        chip.setAttribute('aria-pressed','true');

        const filter = chip.dataset.filter;
        tiles.forEach(t => {
          const tags = t.dataset.tags.split(' ');
          const show = (filter === 'all') || tags.includes(filter);
          t.style.display = show ? '' : 'none';
        });
      });
    });

    // Lightbox
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lb-img');
    const lbClose = document.getElementById('lb-close');

    document.getElementById('grid').addEventListener('click', (e) => {
      const img = e.target.closest('img');
      if (!img) return;
      lbImg.src = img.src;
      lbImg.alt = img.alt;
      lb.showModal();
    });

    lbClose.addEventListener('click', () => lb.close());
    lb.addEventListener('click', (e) => { if (e.target === lb) lb.close(); });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && lb.open) lb.close(); });
  </script>
</body>
</html>
